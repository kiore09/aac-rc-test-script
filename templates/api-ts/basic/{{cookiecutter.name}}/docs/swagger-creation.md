# Generating Swagger Documentation

This template uses the `swagger-jsdoc` library - provided by the [swagger-jsdoc project](https://github.com/Surnet/swagger-jsdoc) - to generate Swagger 2.0 or OpenAPI 3.0 documentation.

- The [swaggerSpec file](../app/swaggerSpec.ts) sets most of the "upper level" properties for the Swagger UI, such as the title, description, and version of the API.
- Swagger annotations are used to provide information about endpoints and model definitions - see
[user.ts](../app/src/models/user.ts) for examples
- The [swaggerGenerate file](../app/swaggerGenerate.ts) is only used to write the swagger documentation to a file.
- The Swagger JSON file can be generated by executing the following command inside the `app` folder: 

```
npm run docs
```

(by default, the Swagger file is written to [`api/example.oas3.json`](../api/example.oas3.json).)

> [!NOTE]
> We have included an example of Swagger 2.0 JSON file [`example.oas2.json`](../api/example.oas2.json) as reference if you would like to use Swagger 2.0 instead of OpenAPI 3.0.

If you would like to generate Swagger 2.0 please use this Swagger Spec config instead:
```
// OAS file definition
const options = {
  definition: {
    swagger: "2.0",
    host: "localhost:8080",
    basePath: "/",
    schemes: ["http", "https"],
    info: {
      title: "Sample NodeJS API with Swagger 2.0",
      version: "0.1.0",
      description:
        "This is a simple API application made with NodeJS and documented with Swagger",
      contact: {
        name: "Someone",
        email: "someone@example.com",
      },
    },
    "x-api-engagement-num": "910",
    "x-apiname": "demoApiName",
    "x-cmdbid": "21740",
    "x-responsetime": "3000",
    "x-tmfdomain": "common",
    "x-tps": "1000",
  },
  apis: ["./src/**/*.ts"],
};
```
Please also use update this component reference definition `$ref:` in your route index file:
```
OpenAPI 2.0                    OpenAPI 3.0
$ref: '#/definitions/User'   â†’ $ref:'#/components/schemas/User'
```

# Swagger endpoints
The following endpoints are available and can be customized or disabled:
- Swagger UI: [http://localhost:8080/api-docs](http://localhost:8080/api-docs)

For more information on the Swagger UI, see the [Swagger Documentation](https://swagger.io/) or [Swagger UI](https://swagger.io/tools/swagger-ui/).